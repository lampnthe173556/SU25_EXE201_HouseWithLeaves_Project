@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_LayouClientShared";
}
@section Css
{
    <link rel="stylesheet" href="~/css/payment.css">
    <link rel="stylesheet" href="~/css/paypal.css">
}

@section Bootstrap
{
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
}

<div class="paypal-container">
    <section class="h-100 h-custom" style="background-color: #f8f9fa;">
        <div class="container py-5 h-100">
            <div class="row d-flex justify-content-center align-items-start h-100">
                <div class="col">
                    <div class="card shadow-sm">
                        <div class="card-body p-4">
                            <form id="payment-form">
                                <!-- Hidden fields for cart data -->
                                <input type="hidden" name="cartData" id="cartData" />
                                <input type="hidden" name="shippingMethodInfo" id="shippingMethodInfo" />
                                <input type="hidden" name="totalAmount" id="totalAmount" />

                                <div class="row">

                                    <div class="col-lg-7">
                                        <!-- Cart items will be rendered here by payment.js -->
                                    </div>

                                    <div class="col-lg-5">
                                        <div class="card bg-light rounded-3">
                                            <div class="card-body">
                                                <div class="address-section mb-4">
                                                    <h6 class="mb-3">Địa chỉ nhận hàng</h6>
                                                    <div class="mb-3">
                                                        <label for="province" class="form-label">Tỉnh/Thành phố</label>
                                                        <select id="province" name="province" class="form-select" required>
                                                            <option value="">Chọn tỉnh/thành phố</option>
                                                        </select>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="district" class="form-label">Quận/Huyện</label>
                                                        <select id="district" name="district" class="form-select" required>
                                                            <option value="">Chọn quận/huyện</option>
                                                        </select>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="ward" class="form-label">Phường/Xã</label>
                                                        <select id="ward" name="ward" class="form-select" required>
                                                            <option value="">Chọn phường/xã</option>
                                                        </select>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="address-detail" class="form-label">Địa chỉ chi tiết</label>
                                                        <input type="text" id="address-detail" name="addressDetail" class="form-control"
                                                               placeholder="Số nhà, tên đường,..." required>
                                                    </div>
                                                </div>
                                                <hr class="my-4">
                                                <div class="d-flex justify-content-between">
                                                    <p class="mb-2">Tổng tiền</p>
                                                    <p class="mb-2"><span id="paypal-subtotal">0₫</span></p>
                                                </div>

                                                <div class="d-flex justify-content-between">
                                                    <p class="mb-2">Phí vận chuyển</p>
                                                    <p class="mb-2"><span id="paypal-shipping">0₫</span></p>
                                                </div>

                                                <div class="d-flex justify-content-between mb-4">
                                                    <p class="mb-2">Tổng cộng</p>
                                                    <p class="mb-2"><span id="paypal-total">0₫</span></p>
                                                </div>

                                                <button type="submit" id="btn-pay" class="btn btn-success btn-block btn-lg w-100">
                                                    <div class="d-flex justify-content-between align-items-center">
                                                        <span id="btn-pay-amount"></span>
                                                        <span>Thanh toán <i class="fas fa-long-arrow-alt-right ms-2"></i></span>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

@section Script
{
    <script src="~/js/cart.js"></script>
    <script src="~/js/payment.js"></script>
}
